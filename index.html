<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Teste suas habilidades de Dono de Restaurante</title>
  <!-- Importa o Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Importa o plugin Chart.js DataLabels -->
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
  <!-- Importa a biblioteca Font Awesome para ícones -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    /* Estilos gerais */
    body, .container {
      font-family: Arial, sans-serif;
      font-size: 16px;
    }
    body {
      margin: 20px;
      background-color: #f4f4f9;
      color: #333;
    }
    .container {
      max-width: 800px;
      width: 90%;
      margin: 0 auto 20px;
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      position: relative;
    }
    /* Responsividade para dispositivos móveis */
    @media (max-width: 768px) {
      .container {
        padding: 15px;
        margin: 10px auto 15px;
      }
      h1 {
        font-size: 20px;
      }
      .identification-container h1 {
        font-size: 20px;
      }
      .question h2 {
        font-size: 18px;
      }
      button {
        font-size: 14px;
      }
    }
    /* Container do questionário */
    #quizContainer {
      background-color: #f9f9f9;
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
      display: none;
      position: relative;
    }
    /* Container da tela de resultados */
    #resultContainer {
      display: none;
    }
    /* Container da página inicial */
    #homeContainer {
      display: block;
      text-align: center;
    }
    h1, h2 {
      text-align: left;
    }
    /* Título principal */
    h1 {
      font-size: 24px;
    }
    /* Títulos das questões em laranja escuro */
    .question h2 {
      color: #FF8C00;
      font-size: 20px;
      margin-bottom: 10px;
    }
    /* Estilo para as questões */
    .question {
      margin-bottom: 20px;
      padding: 10px;
      border-radius: 8px;
    }
    /* Fundo e borda alternados para as questões */
    #quizContainer .question:nth-child(8n+1),
    #quizContainer .question:nth-child(8n+2),
    #quizContainer .question:nth-child(8n+3),
    #quizContainer .question:nth-child(8n+4) {
      background-color: #F5F5F5;
      border: 2px solid #DCDCDC;
    }
    #quizContainer .question:nth-child(8n+5),
    #quizContainer .question:nth-child(8n+6),
    #quizContainer .question:nth-child(8n+7),
    #quizContainer .question:nth-child(8n+8) {
      background-color: #FFF5EE;
      border: 2px solid #EED7C9;
    }
    label {
      display: block;
      margin: 10px 0;
      cursor: pointer;
    }
    button {
      padding: 10px 20px;
      background-color: #007BFF;
      color: #fff;
      border: none;
      border-radius: 4px;
      font-size: 16px;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
      overflow-x: auto;
    }
    table, th, td {
      border: 1px solid #ddd;
    }
    th, td {
      padding: 8px;
      text-align: left;
    }
    canvas {
      margin-top: 20px;
      max-width: 100%;
      height: auto;
    }
    /* Estilos para a matriz SWOT */
    .swot-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 20px;
    }
    .quadrant {
      flex: 1;
      padding: 20px;
      border-radius: 8px;
      min-height: 200px;
    }
    .pontos-fortes {
      background-color: #d4edda;
      border: 1px solid #c3e6cb;
    }
    .pontos-atencao {
      background-color: #f8d7da;
      border: 1px solid #f5c6cb;
    }
    /* Grupo de botões */
    .button-container {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
      flex-wrap: wrap;
    }
    /* Tabela de AÇÕES RECOMENDADAS */
    .acoes-container {
      margin-top: 30px;
    }
    #acoesTable {
      border-collapse: separate;
      border-spacing: 0;
      border: 1px solid #999;
      border-radius: 8px;
      overflow: hidden;
      background-color: #d3d3d3;
    }
    #acoesTable th,
    #acoesTable td {
      border: 1px solid #999;
      padding: 8px;
    }
    #acoesTable th {
      text-transform: uppercase;
      background-color: #aaa;
      color: #fff;
    }
    /* Nota geral com semáforo */
    .total-score-box {
      border-radius: 8px;
      padding: 20px;
      text-align: center;
      font-size: 48px;
      font-weight: bold;
      margin: 20px 0;
      color: #fff;
    }
    .total-score-legend {
      font-size: 12px;
      font-style: italic;
      font-weight: normal;
      text-align: center;
      margin-bottom: 20px;
    }
    /* Estilos para a identificação */
    .identification-container {
      background-color: #e6e0df;
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 20px;
      margin-top: 20px;
      position: relative;
      text-align: left;
    }
    .identification-container h1 {
      text-transform: uppercase;
      margin-bottom: 20px;
      color: #000;
      white-space: nowrap;
      font-size: 24px;
    }
    .field-container {
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
      background-color: #fff;
    }
    .field-container label {
      font-weight: bold;
      display: block;
      margin-bottom: 5px;
    }
    .field-container input {
      width: 100%;
      padding: 8px;
      margin-bottom: 5px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 16px;
      box-sizing: border-box;
    }
    .input-error {
      border-color: red;
    }
    .field-container .helper-text {
      font-size: 12px;
      font-style: italic;
      color: #666;
    }
    .field-container .error-text {
      font-size: 12px;
      font-style: italic;
      color: red;
      display: none;
    }
    /* Botão do formulário de identificação no primeiro container: posicionado no canto inferior direito */
    #homeContainer .identification-container {
      position: relative;
    }
    #homeContainer .identification-container .button-container {
      position: absolute;
      bottom: 10px;
      right: 10px;
      margin: 0;
    }
    .advance-button {
      padding: 8px 16px;
      background-color: #007BFF;
      color: #fff;
      border: none;
      border-radius: 4px;
      font-size: 14px;
      cursor: pointer;
    }
    .advance-button:hover {
      background-color: #0056b3;
    }
    /* Botão de envio do questionário (Container 2) */
    .submit-btn {
      padding: 10px 20px;
      background-color: #007BFF;
      color: #fff;
      border: none;
      border-radius: 4px;
      font-size: 16px;
      cursor: pointer;
    }
    .submit-btn:hover {
      background-color: #0056b3;
    }
    /* Cabeçalho do relatório de avaliação (Container 3) */
    .report-title {
      font-size: 32px;
      font-weight: bold;
      text-align: left;
      margin-bottom: 10px;
    }
    /* Moldura com os dados do usuário (Container 3) */
    .user-header {
      background-color: #f2f2f2;
      border: 1px solid #999999;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
      text-transform: uppercase;
      font-weight: bold;
    }
    
    /* CSS para Impressão */
    @media print {
      body * {
        visibility: hidden;
      }
      #resultContainer, #resultContainer * {
        visibility: visible;
      }
      #resultContainer {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
      }
      .button-container {
        display: none !important;
      }
      .page-break {
        page-break-before: always;
      }
      @page {
        size: A4;
        margin: 20mm;
      }
    }
  </style>
</head>
<body>
  <!-- Container 1: Página Inicial (Identificação do Usuário) -->
  <div class="container" id="homeContainer">
    <div class="identification-container">
      <!-- Título da Primeira Página -->
      <h1>Teste suas habilidades de Dono de Restaurantes</h1>
      <form id="identification-form">
        <!-- Campo 1: Nome -->
        <div class="field-container">
          <label for="nome">Nome:</label>
          <input type="text" id="nome" name="nome"
                 pattern="^[a-zA-ZÀ-ÖØ-öø-ÿ]+(?:\s+[a-zA-ZÀ-ÖØ-öø-ÿ]+)+$"
                 title="Digite seu nome completo, contendo ao menos dois nomes."
                 required>
          <small class="helper-text">* Insira seu nome completo (ao menos dois nomes).</small>
          <small class="error-text">Por favor, insira um nome válido contendo ao menos dois nomes.</small>
        </div>
        <!-- Campo 2: Nome do Restaurante -->
        <div class="field-container">
          <label for="restaurante">Nome do seu Restaurante:</label>
          <input type="text" id="restaurante" name="restaurante"
                 pattern='^[a-zA-ZÀ-ÖØ-öø-ÿ0-9!@#$%^&*(),.?"&#39;:{}|<>]+(?:\s+[a-zA-ZÀ-ÖØ-öø-ÿ0-9!@#$%^&*(),.?"&#39;:{}|<>]+)*$'
                 title="Digite o nome do seu restaurante. Deve conter ao menos um nome, permitindo letras, números e caracteres especiais."
                 required>
          <small class="helper-text">* Insira o nome do seu restaurante.</small>
          <small class="error-text">Por favor, insira um nome válido para o restaurante.</small>
        </div>
        <!-- Campo 3: Email -->
        <div class="field-container">
          <label for="email">Email:</label>
          <input type="email" id="email" name="email"
                 pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
                 title="Digite um email válido, ex: exemplo@dominio.com."
                 required>
          <small class="helper-text">* Insira um email válido.</small>
          <small class="error-text">Por favor, insira um email válido.</small>
        </div>
        <!-- Campo 4: Telefone/WhatsApp -->
        <div class="field-container">
          <label for="telefone">Telefone/WhatsApp:</label>
          <input type="tel" id="telefone" name="telefone"
                 pattern="^\(?\d{2}\)?[\s-]?\d{4,5}[\s-]?\d{4}$"
                 title="Digite seu telefone no formato (DDD + Número) sem espaços ou caracteres adicionais."
                 required>
          <small class="helper-text">* Insira seu número de telefone (DDD + Número).</small>
          <small class="error-text">Por favor, insira um número de telefone válido.</small>
        </div>
        <br><br>
        <!-- Botão Iniciar Teste -->
        <div class="button-container">
          <button type="submit" id="startQuiz" class="advance-button">Iniciar Teste</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Container 2: Questionário Completo -->
  <div class="container" id="quizContainer">
    <h1>TESTE SUAS HABILIDADES DE DONO DE RESTAURANTE</h1>
    <br>
    <form id="quizForm">
      <!-- Estratégia (Questões 1 a 4) -->
      <div class="question">
        <h2>Questão 1</h2>
        <p>Vamos falar do planejamento estratégico do seu restaurante. Qual o nível de desenvolvimento do seu planejamento estratégico?</p>
        <label><input type="radio" name="q1" value="0.63-A-Estratégia" required> A. Não possuo um planejamento estratégico formalizado.</label>
        <label><input type="radio" name="q1" value="1.25-B-Estratégia"> B. Possuo um planejamento básico, mas raramente faço revisões.</label>
        <label><input type="radio" name="q1" value="1.88-C-Estratégia"> C. Meu planejamento é formal e revisado anualmente.</label>
        <label><input type="radio" name="q1" value="2.5-D-Estratégia"> D. Meu planejamento é revisado e ajustado regularmente, com feedback da equipe.</label>
      </div>
      <div class="question">
        <h2>Questão 2</h2>
        <p>Qual o nível de desenvolvimento da missão, visão e valores em sua gestão?</p>
        <label><input type="radio" name="q2" value="0.63-A-Estratégia" required> A. Não estão formalizados.</label>
        <label><input type="radio" name="q2" value="1.25-B-Estratégia"> B. Estão definidos, mas pouco revisados ou aplicados.</label>
        <label><input type="radio" name="q2" value="1.88-C-Estratégia"> C. Estão formalizados e revisados anualmente.</label>
        <label><input type="radio" name="q2" value="2.5-D-Estratégia"> D. São definidos com participação da equipe e aplicados no dia a dia.</label>
      </div>
      <div class="question">
        <h2>Questão 3</h2>
        <p>Como você avalia o posicionamento do seu restaurante no mercado?</p>
        <label><input type="radio" name="q3" value="0.63-A-Estratégia" required> A. Ruim. Não tenho um público bem definido e nem clareza quanto ao meu diferencial de mercado.</label>
        <label><input type="radio" name="q3" value="1.25-B-Estratégia"> B. Razoável. Faço estratégias para atingir diversos públicos, mas meus diferenciais ainda precisam ser trabalhados.</label>
        <label><input type="radio" name="q3" value="1.88-C-Estratégia"> C. Bom. Tenho clareza do meu público e meus diferenciais são reconhecidos.</label>
        <label><input type="radio" name="q3" value="2.5-D-Estratégia"> D. Ótimo! Possuo um posicionamento claro e estratégias bem definidas.</label>
      </div>
      <div class="question">
        <h2>Questão 4</h2>
        <p>Qual é o seu nível de clareza quanto à estratégia de expansão do seu restaurante?</p>
        <label><input type="radio" name="q4" value="0.63-A-Estratégia" required> A. Não tenho uma estratégia de expansão.</label>
        <label><input type="radio" name="q4" value="1.25-B-Estratégia"> B. Considero a expansão, mas não sei qual modelo seguir.</label>
        <label><input type="radio" name="q4" value="1.88-C-Estratégia"> C. Tenho planos de expansão, mas sem formalização.</label>
        <label><input type="radio" name="q4" value="2.5-D-Estratégia"> D. Tenho uma estratégia clara com metas e prazos definidos.</label>
      </div>
      <!-- Processos (Questões 5 a 8) -->
      <div class="question">
        <h2>Questão 5</h2>
        <p>Como você avalia os Procedimentos Operacionais Padrão (POPs) no seu restaurante?</p>
        <label><input type="radio" name="q5" value="0.63-A-Processos" required> A. Não formalizei os procedimentos; ensino de forma prática.</label>
        <label><input type="radio" name="q5" value="1.25-B-Processos"> B. Alguns procedimentos existem, mas não são seguidos por todos.</label>
        <label><input type="radio" name="q5" value="1.88-C-Processos"> C. Formalizei os procedimentos, mas a adesão ainda é variável.</label>
        <label><input type="radio" name="q5" value="2.5-D-Processos"> D. A maioria dos procedimentos está bem documentada e é seguida de forma consistente.</label>
      </div>
      <div class="question">
        <h2>Questão 6</h2>
        <p>Como você realiza o controle de estoque no seu restaurante?</p>
        <label><input type="radio" name="q6" value="0.63-A-Processos" required> A. Controle manual com revisões esporádicas.</label>
        <label><input type="radio" name="q6" value="1.25-B-Processos"> B. Manual, porém revisado semanalmente.</label>
        <label><input type="radio" name="q6" value="1.88-C-Processos"> C. Uso um sistema digital, mas com revisões pouco frequentes.</label>
        <label><input type="radio" name="q6" value="2.5-D-Processos"> D. Sistema digital com acompanhamento constante.</label>
      </div>
      <div class="question">
        <h2>Questão 7</h2>
        <p>Como você garante a padronização dos pratos no seu restaurante?</p>
        <label><input type="radio" name="q7" value="0.63-A-Processos" required> A. Não tenho um processo formal de padronização.</label>
        <label><input type="radio" name="q7" value="1.25-B-Processos"> B. Uso fichas técnicas para alguns pratos, mas nem todos seguem o padrão.</label>
        <label><input type="radio" name="q7" value="1.88-C-Processos"> C. A maioria dos pratos utiliza fichas técnicas, mas ajustes ainda são necessários.</label>
        <label><input type="radio" name="q7" value="2.5-D-Processos"> D. Uso fichas técnicas e a equipe segue rigorosamente as orientações.</label>
      </div>
      <div class="question">
        <h2>Questão 8</h2>
        <p>Como está organizado o fluxo de trabalho na cozinha?</p>
        <label><input type="radio" name="q8" value="0.63-A-Processos" required> A. Sem organização clara, com atrasos frequentes.</label>
        <label><input type="radio" name="q8" value="1.25-B-Processos"> B. Organização existente, mas com sobrecarga em horários de pico.</label>
        <label><input type="radio" name="q8" value="1.88-C-Processos"> C. Fluxo bem organizado, com pequenas falhas pontuais.</label>
        <label><input type="radio" name="q8" value="2.5-D-Processos"> D. Fluxo estruturado, sem falhas e com equipe coordenada.</label>
      </div>
      <!-- Vendas (Questões 9 a 12) -->
      <div class="question">
        <h2>Questão 9</h2>
        <p>Como você avalia o volume de vendas atual do seu restaurante?</p>
        <label><input type="radio" name="q9" value="0.63-A-Vendas" required> A. Vendas abaixo do esperado e sem crescimento.</label>
        <label><input type="radio" name="q9" value="1.88-B-Vendas"> B. Vendas razoáveis, porém com oscilações mensais.</label>
        <label><input type="radio" name="q9" value="1.25-C-Vendas"> C. Vendas estáveis, mas sem aumento significativo.</label>
        <label><input type="radio" name="q9" value="2.5-D-Vendas"> D. Vendas superando as metas estabelecidas.</label>
      </div>
      <div class="question">
        <h2>Questão 10</h2>
        <p>Como você avalia a satisfação dos seus clientes após a venda?</p>
        <label><input type="radio" name="q10" value="0.63-A-Vendas" required> A. Processo básico de coleta de feedback, raramente utilizado.</label>
        <label><input type="radio" name="q10" value="1.88-B-Vendas"> B. Coleta feedback ocasionalmente, sem formalidade.</label>
        <label><input type="radio" name="q10" value="1.25-C-Vendas"> C. Perguntas informais, mas sem regularidade.</label>
        <label><input type="radio" name="q10" value="2.5-D-Vendas"> D. Pesquisas regulares com uso dos resultados para ajustes.</label>
      </div>
      <div class="question">
        <h2>Questão 11</h2>
        <p>Qual é a meta de vendas estabelecida para o seu restaurante?</p>
        <label><input type="radio" name="q11" value="0.63-A-Vendas" required> A. Não tenho meta definida.</label>
        <label><input type="radio" name="q11" value="1.25-B-Vendas"> B. Metas definidas, mas acompanhadas esporadicamente.</label>
        <label><input type="radio" name="q11" value="1.88-C-Vendas"> C. Metas definidas e revisadas periodicamente.</label>
        <label><input type="radio" name="q11" value="2.5-D-Vendas"> D. Metas claras com monitoramento frequente e ajustes necessários.</label>
      </div>
      <div class="question">
        <h2>Questão 12</h2>
        <p>Você utiliza técnicas de upsell e cross-sell no seu restaurante?</p>
        <label><input type="radio" name="q12" value="0.63-A-Vendas" required> A. Nunca utilizo essas técnicas.</label>
        <label><input type="radio" name="q12" value="1.25-B-Vendas"> B. Conheço, mas raramente as aplico.</label>
        <label><input type="radio" name="q12" value="1.88-C-Vendas"> C. Uso ocasionalmente, sem regularidade.</label>
        <label><input type="radio" name="q12" value="2.5-D-Vendas"> D. Uso regularmente, aumentando o ticket médio.</label>
      </div>
      <!-- Marketing (Questões 13 a 16) -->
      <div class="question">
        <h2>Questão 13</h2>
        <p>Como você avalia as campanhas de marketing do seu restaurante?</p>
        <label><input type="radio" name="q13" value="0.63-A-Marketing" required> A. Não faço campanhas estruturadas.</label>
        <label><input type="radio" name="q13" value="1.25-B-Marketing"> B. Campanhas pontuais, sem estratégia clara.</label>
        <label><input type="radio" name="q13" value="1.88-C-Marketing"> C. Campanhas com objetivos claros, mas com acompanhamento esporádico.</label>
        <label><input type="radio" name="q13" value="2.5-D-Marketing"> D. Campanhas bem planejadas com monitoramento regular dos resultados.</label>
      </div>
      <div class="question">
        <h2>Questão 14</h2>
        <p>Você já utiliza tráfego pago em suas estratégias de marketing?</p>
        <label><input type="radio" name="q14" value="0.63-A-Marketing" required> A. Nunca utilizei tráfego pago.</label>
        <label><input type="radio" name="q14" value="1.25-B-Marketing"> B. Testei tráfego pago, mas não obtive os resultados esperados.</label>
        <label><input type="radio" name="q14" value="1.88-C-Marketing"> C. Uso tráfego pago ocasionalmente, ainda ajustando a estratégia.</label>
        <label><input type="radio" name="q14" value="2.5-D-Marketing"> D. Uso tráfego pago regularmente com monitoramento dos resultados.</label>
      </div>
      <div class="question">
        <h2>Questão 15</h2>
        <p>Como você avalia o posicionamento digital do seu restaurante?</p>
        <label><input type="radio" name="q15" value="0.63-A-Marketing" required> A. Pouca presença nas redes sociais.</label>
        <label><input type="radio" name="q15" value="1.25-B-Marketing"> B. Presença em algumas redes, mas sem estratégia clara.</label>
        <label><input type="radio" name="q15" value="1.88-C-Marketing"> C. Presença nas principais redes com comunicação regular.</label>
        <label><input type="radio" name="q15" value="2.5-D-Marketing"> D. Forte presença digital com interações frequentes.</label>
      </div>
      <div class="question">
        <h2>Questão 16</h2>
        <p>Seu restaurante investe em marketing de influência? Como você avalia os resultados?</p>
        <label><input type="radio" name="q16" value="0.63-A-Marketing" required> A. Não invisto nessa área.</label>
        <label><input type="radio" name="q16" value="1.25-B-Marketing"> B. Penso em investir, mas ainda não implementei.</label>
        <label><input type="radio" name="q16" value="1.88-C-Marketing"> C. Fiz parcerias, mas sem resultados claros.</label>
        <label><input type="radio" name="q16" value="2.5-D-Marketing"> D. Parcerias regulares com bons resultados.</label>
      </div>
      <!-- Finanças (Questões 17 a 20) -->
      <div class="question">
        <h2>Questão 17</h2>
        <p>Como você avalia a saúde financeira do seu negócio?</p>
        <label><input type="radio" name="q17" value="0.63-A-Finanças" required> A. Finanças desequilibradas, com dificuldades para cobrir custos.</label>
        <label><input type="radio" name="q17" value="1.25-B-Finanças"> B. Finanças variáveis, com períodos de sobra e escassez.</label>
        <label><input type="radio" name="q17" value="1.88-C-Finanças"> C. Finanças estáveis, mas sem grande sobra para investimentos.</label>
        <label><input type="radio" name="q17" value="2.5-D-Finanças"> D. Boa margem financeira que permite investimentos e expansão.</label>
      </div>
      <div class="question">
        <h2>Questão 18</h2>
        <p>Como você faz o controle do Custo de Mercadorias Vendidas (CMV)?</p>
        <label><input type="radio" name="q18" value="0.63-A-Finanças" required> A. Não faço controle estruturado do CMV.</label>
        <label><input type="radio" name="q18" value="1.25-B-Finanças"> B. Controle esporádico do CMV, sem acompanhamento detalhado.</label>
        <label><input type="radio" name="q18" value="1.88-C-Finanças"> C. Controle regular do CMV, porém sem integração completa com outros indicadores.</label>
        <label><input type="radio" name="q18" value="2.5-D-Finanças"> D. Controle detalhado do CMV, usando os dados para ajustes nos preços.</label>
      </div>
      <div class="question">
        <h2>Questão 19</h2>
        <p>Como você avalia a gestão financeira do seu restaurante?</p>
        <label><input type="radio" name="q19" value="0.63-A-Finanças" required> A. Sem sistema de controle financeiro; decisões intuitivas.</label>
        <label><input type="radio" name="q19" value="1.25-B-Finanças"> B. Controle financeiro informal, sem ferramentas como DRE.</label>
        <label><input type="radio" name="q19" value="1.88-C-Finanças"> C. Acompanho o fluxo de caixa, mas não utilizo relatórios detalhados.</label>
        <label><input type="radio" name="q19" value="2.5-D-Finanças"> D. Utilizo fluxo de caixa e DRE regularmente para tomar decisões.</label>
      </div>
      <div class="question">
        <h2>Questão 20</h2>
        <p>Como você acompanha a saúde financeira do seu restaurante?</p>
        <label><input type="radio" name="q20" value="0.63-A-Finanças" required> A. Avaliação superficial, sem acompanhamento formal.</label>
        <label><input type="radio" name="q20" value="1.25-B-Finanças"> B. Acompanhamento regular, mas sem todos os indicadores necessários.</label>
        <label><input type="radio" name="q20" value="1.88-C-Finanças"> C. Uso relatórios detalhados, como DRE e fluxo de caixa, de forma regular.</label>
        <label><input type="radio" name="q20" value="2.5-D-Finanças"> D. Acompanhamento ocasional, sem estrutura formal.</label>
      </div>
      <!-- Pessoas (Questões 21 a 24) -->
      <div class="question">
        <h2>Questão 21</h2>
        <p>Como está a gestão de pessoas no seu restaurante?</p>
        <label><input type="radio" name="q21" value="0.63-A-Pessoas" required> A. Não realizo reuniões com a equipe.</label>
        <label><input type="radio" name="q21" value="1.25-B-Pessoas"> B. Reuniões acontecem esporadicamente.</label>
        <label><input type="radio" name="q21" value="1.88-C-Pessoas"> C. Reuniões regulares, mas com temas incompletos.</label>
        <label><input type="radio" name="q21" value="2.5-D-Pessoas"> D. Reuniões periódicas com discussão completa de gestão e desempenho.</label>
      </div>
      <div class="question">
        <h2>Questão 22</h2>
        <p>Como você avalia o desempenho da sua equipe?</p>
        <label><input type="radio" name="q22" value="0.63-A-Pessoas" required> A. Desempenho insatisfatório, com muitos pontos a melhorar.</label>
        <label><input type="radio" name="q22" value="1.25-B-Pessoas"> B. Desempenho razoável, mas com áreas de melhoria.</label>
        <label><input type="radio" name="q22" value="1.88-C-Pessoas"> C. Desempenho consistente e alinhado às expectativas.</label>
        <label><input type="radio" name="q22" value="2.5-D-Pessoas"> D. Bom desempenho, com alguns ajustes necessários.</label>
      </div>
      <div class="question">
        <h2>Questão 23</h2>
        <p>Qual é o nível de rotatividade de colaboradores no seu restaurante?</p>
        <label><input type="radio" name="q23" value="0.63-A-Pessoas" required> A. Rotatividade alta, muitos colaboradores saem frequentemente.</label>
        <label><input type="radio" name="q23" value="1.25-B-Pessoas"> B. Rotatividade moderada, mas precisa melhorar.</label>
        <label><input type="radio" name="q23" value="1.88-C-Pessoas"> C. Rotatividade baixa.</label>
        <label><input type="radio" name="q23" value="2.5-D-Pessoas"> D. Equipe estável, com pouca ou nenhuma rotatividade.</label>
      </div>
      <div class="question">
        <h2>Questão 24</h2>
        <p>Qual é o processo de integração de novos colaboradores? Como é a jornada deles ao ingressar na empresa?</p>
        <label><input type="radio" name="q24" value="0.63-A-Pessoas" required> A. Não possuo um processo de integração.</label>
        <label><input type="radio" name="q24" value="1.25-B-Pessoas"> B. Outro colaborador auxilia nos primeiros dias.</label>
        <label><input type="radio" name="q24" value="1.88-C-Pessoas"> C. Apresento regras e acompanho o início.</label>
        <label><input type="radio" name="q24" value="2.5-D-Pessoas"> D. Tenho um processo formal com treinamento para novos colaboradores.</label>
      </div>
      <br><br>
      <!-- Botão de Envio do Questionário -->
      <div class="button-container" style="justify-content: flex-end;">
        <button type="submit" class="submit-btn">Enviar</button>
      </div>
    </form>
  </div>
    
  <!-- Container 3: Relatório de Resultados -->
  <div class="container" id="resultContainer">
    <div id="resultHeader">
      <h1 class="report-title">RELATÓRIO DE AVALIAÇÃO DDR</h1>
      <!-- Os dados do usuário serão inseridos via JavaScript -->
    </div>
    <h1>PONTUAÇÃO GERAL</h1>
    <div id="totalScoreContainer" class="total-score-box">
      <span id="totalScore"></span>
    </div>
    <p class="total-score-legend" style="font-style: italic; color: gray;">
      OBS: o máximo da pontuação é 60, composta pela soma das pontuações de cada pilar: Estratégia, Processos, Vendas, Marketing, Finanças, Pessoas.
    </p>
    <h1>DESEMPENHO POR PILAR DE GESTÃO</h1>
    <canvas id="chartCanvas"></canvas>
    <!-- SWOT e Ações Recomendadas serão inseridas via JavaScript -->
    <div class="button-container">
      <button id="backButton">Voltar para o Questionário</button>
      <button id="generatePdf"><i class="fas fa-print"></i> Imprimir</button>
    </div>
  </div>

  <script>
    /* --- Validação e Transição do Formulário de Identificação --- */
    const form = document.getElementById('identification-form');
    const inputs = form.querySelectorAll('input');
  
    function validateField(input) {
      const pattern = input.getAttribute('pattern');
      if (pattern) {
        const regex = new RegExp(pattern);
        if (input.value.trim() === "" || !regex.test(input.value)) {
          return false;
        }
      }
      return true;
    }
  
    inputs.forEach(input => {
      input.addEventListener('blur', function() {
        if (!validateField(input)) {
          input.classList.add('input-error');
          const errorText = input.parentElement.querySelector('.error-text');
          if (errorText) {
            errorText.style.display = 'block';
          }
        } else {
          input.classList.remove('input-error');
          const errorText = input.parentElement.querySelector('.error-text');
          if (errorText) {
            errorText.style.display = 'none';
          }
        }
      });
  
      input.addEventListener('input', function() {
        if (validateField(input)) {
          input.classList.remove('input-error');
          const errorText = input.parentElement.querySelector('.error-text');
          if (errorText) {
            errorText.style.display = 'none';
          }
        }
      });
    });
  
    form.addEventListener('submit', function(event) {
      let isValid = true;
      inputs.forEach(input => {
        if (!validateField(input)) {
          input.classList.add('input-error');
          const errorText = input.parentElement.querySelector('.error-text');
          if (errorText) {
            errorText.style.display = 'block';
          }
          isValid = false;
        }
      });
      if (!isValid) {
        event.preventDefault();
      } else {
        event.preventDefault(); // Evita o envio real do formulário
        // Exibe o questionário e oculta a tela de identificação
        document.getElementById('homeContainer').style.display = 'none';
        document.getElementById('quizContainer').style.display = 'block';
      }
    });
  
    /* --- Processamento do Quiz e Geração do Relatório --- */
    const pilarColors = {
      "Estratégia": "rgba(255, 99, 132, 0.8)",
      "Processos": "rgba(54, 162, 235, 0.8)",
      "Vendas": "rgba(255, 206, 86, 0.8)",
      "Marketing": "rgba(75, 192, 192, 0.8)",
      "Finanças": "rgba(153, 102, 255, 0.8)",
      "Pessoas": "rgba(255, 159, 64, 0.8)"
    };
  
    document.getElementById('quizForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      // Criação do cabeçalho com os dados do usuário
      const resultHeader = document.getElementById('resultHeader');
      resultHeader.querySelectorAll('.user-header').forEach(el => el.remove());
      
      const userName = document.getElementById('nome').value.toUpperCase();
      const userRest = document.getElementById('restaurante').value.toUpperCase();
      const userTel = document.getElementById('telefone').value.toUpperCase();
      const userEmail = document.getElementById('email').value.toUpperCase();
      
      const userHeader = document.createElement('div');
      userHeader.className = 'user-header';
      userHeader.innerHTML = '<p>NOME: ' + userName + '</p>' +
                             '<p>RESTAURANTE: ' + userRest + '</p>' +
                             '<p>TELEFONE: ' + userTel + '</p>' +
                             '<p>EMAIL: ' + userEmail + '</p>';
      resultHeader.appendChild(userHeader);
  
      // Processamento das respostas
      const scoresByPilar = {
        "Estratégia": [],
        "Processos": [],
        "Vendas": [],
        "Marketing": [],
        "Finanças": [],
        "Pessoas": []
      };
      const swotScores = {};
      const formData = new FormData(e.target);
      let totalScore = 0;
      
      formData.forEach((value, key) => {
        const [score, answer, pillar] = value.split('-');
        const numericScore = parseFloat(score);
        totalScore += numericScore;
        swotScores[key] = numericScore;
        if (pillar in scoresByPilar) {
          scoresByPilar[pillar].push(numericScore);
        }
      });
      
      document.getElementById('totalScore').innerText = Math.round(totalScore);
      
      // Ajuste das margens semafóricas:
      // < 36: vermelho; 36 <= pontuação < 48: amarelo; >= 48: verde
      let bgColor;
      if (totalScore < 36) {
          bgColor = "red";
      } else if (totalScore < 48) {
          bgColor = "yellow";
      } else {
          bgColor = "green";
      }
      document.getElementById('totalScoreContainer').style.backgroundColor = bgColor;
      document.getElementById('totalScoreContainer').style.color = (bgColor === "yellow" ? "black" : "white");
      
      document.getElementById('quizContainer').style.display = 'none';
      document.getElementById('resultContainer').style.display = 'block';
      
      const pilarLabels = Object.keys(scoresByPilar);
      const pilarScores = {};
      pilarLabels.forEach(pilar => {
        const sum = scoresByPilar[pilar].reduce((a, b) => a + b, 0);
        pilarScores[pilar] = sum;
      });
      
      const ctx = document.getElementById('chartCanvas').getContext('2d');
      new Chart(ctx, {
        type: 'bar',
        data: {
          labels: pilarLabels,
          datasets: [{
            label: 'Pontuação',
            data: pilarLabels.map(p => pilarScores[p]),
            backgroundColor: [
              pilarColors["Estratégia"],
              pilarColors["Processos"],
              pilarColors["Vendas"],
              pilarColors["Marketing"],
              pilarColors["Finanças"],
              pilarColors["Pessoas"]
            ]
          }]
        },
        options: {
          indexAxis: 'y',
          elements: {
            bar: { borderRadius: 10 }
          },
          scales: {
            x: {
              beginAtZero: true,
              max: 10.5,
              ticks: { display: false }
            },
            y: {
              ticks: { font: { weight: 'bold' } }
            }
          },
          plugins: {
            datalabels: {
              anchor: 'end',
              align: 'right',
              color: 'gray',
              font: { weight: 'normal' },
              formatter: function(value) {
                let formatted = value.toFixed(1);
                return formatted.endsWith('.0') ? formatted.slice(0, -2) : formatted;
              }
            },
            legend: { display: false }
          }
        },
        plugins: [ChartDataLabels]
      });
      
      const swotMapping = {
        "q1": "Planejamento Estratégico",
        "q2": "Diretrizes Estratégicas",
        "q3": "Posicionamento de Marca",
        "q4": "Expansão de Negócio",
        "q5": "Procedimentos Operacionais Padrão",
        "q6": "Controle de Estoque",
        "q7": "Padronização dos Pratos",
        "q8": "Fluxo de Trabalho na Cozinha",
        "q9": "Volume de Vendas",
        "q10": "Satisfação do Cliente (pós-venda)",
        "q11": "Meta de Vendas",
        "q12": "Estratégias de Vendas",
        "q13": "Campanhas de Marketing",
        "q14": "Tráfego Pago",
        "q15": "Posicionamento Digital",
        "q16": "Marketing de Influência",
        "q17": "Saúde Financeira",
        "q18": "Controle de CMV",
        "q19": "Gestão Financeira",
        "q20": "Acompanhamento Financeiro",
        "q21": "Gestão de Pessoas",
        "q22": "Desempenho da Equipe",
        "q23": "Rotatividade de Colaboradores",
        "q24": "Integração de Colaboradores"
      };
      
      let swot = { pontosFortes: [], pontosAtencao: [] };
      for (let q in swotMapping) {
        if (swotScores[q] !== undefined) {
          if (swotScores[q] > 1.88) {
            swot.pontosFortes.push(swotMapping[q]);
          } else {
            swot.pontosAtencao.push(swotMapping[q]);
          }
        }
      }
      
      let swotContainer = document.createElement('div');
      swotContainer.className = "swot-container page-break";
      
      let pontosFortesDiv = document.createElement('div');
      pontosFortesDiv.className = "quadrant pontos-fortes";
      pontosFortesDiv.innerHTML = "<h2>PONTOS FORTES</h2><ul></ul>";
      
      let pontosAtencaoDiv = document.createElement('div');
      pontosAtencaoDiv.className = "quadrant pontos-atencao";
      pontosAtencaoDiv.innerHTML = "<h2>PONTOS DE ATENÇÃO</h2><ul></ul>";
      
      swot.pontosFortes.forEach(item => {
        let li = document.createElement('li');
        li.textContent = item;
        pontosFortesDiv.querySelector('ul').appendChild(li);
      });
      swot.pontosAtencao.forEach(item => {
        let li = document.createElement('li');
        li.textContent = item;
        pontosAtencaoDiv.querySelector('ul').appendChild(li);
      });
      swotContainer.appendChild(pontosFortesDiv);
      swotContainer.appendChild(pontosAtencaoDiv);
      document.getElementById('resultContainer').insertBefore(swotContainer, document.getElementById('resultContainer').querySelector('.button-container'));
      
      let acoesDiv = document.createElement('div');
      acoesDiv.className = "acoes-container";
      let acoesTitle = document.createElement('h2');
      acoesTitle.textContent = "AÇÕES RECOMENDADAS POR PILAR";
      acoesDiv.appendChild(acoesTitle);
      let acoesTable = document.createElement('table');
      acoesTable.id = "acoesTable";
      let thead = document.createElement('thead');
      thead.innerHTML = `<tr>
                            <th>NOME DO PILAR</th>
                            <th>PRESCRIÇÃO</th>
                          </tr>`;
      acoesTable.appendChild(thead);
      let tbody = document.createElement('tbody');
      
      pilarLabels.forEach(pilar => {
        const sum = scoresByPilar[pilar].reduce((a, b) => a + b, 0);
        let level;
        if(sum === 10) { level = 5; }
        else if(sum <= 3.76) { level = 1; }
        else if(sum > 3.76 && sum < 6.26) { level = 2; }
        else if(sum >= 6.26 && sum < 8.14) { level = 3; }
        else if(sum >= 8.14 && sum < 10) { level = 4; }
        
        let prescText = (diagnosticData[pilar] && diagnosticData[pilar][level] && diagnosticData[pilar][level].prescription)
                          ? diagnosticData[pilar][level].prescription
                          : "Sem dados.";
        
        let row = document.createElement('tr');
        let cell1 = document.createElement('td');
        cell1.style.fontWeight = 'bold';
        cell1.style.borderLeft = "5px solid " + pilarColors[pilar];
        cell1.textContent = pilar;
        let cell2 = document.createElement('td');
        cell2.textContent = prescText;
        row.style.backgroundColor = "#fff";
        row.appendChild(cell1);
        row.appendChild(cell2);
        tbody.appendChild(row);
      });
      acoesTable.appendChild(tbody);
      acoesDiv.appendChild(acoesTable);
      document.getElementById('resultContainer').insertBefore(acoesDiv, document.getElementById('resultContainer').querySelector('.button-container'));
    });
    
    document.getElementById('backButton').addEventListener('click', function() {
      document.getElementById('resultContainer').style.display = 'none';
      document.getElementById('quizContainer').style.display = 'block';
    });
    
    document.getElementById('generatePdf').addEventListener('click', function() {
      window.print();
    });
    
    const diagnosticData = {
      "Pessoas": {
        1: {
          diagnosis: "Gestão de pessoas pouco estruturada, dificultando a comunicação e a retenção.",
          prescription: "Realize reuniões regulares e implemente um processo simples de integração."
        },
        2: {
          diagnosis: "Práticas de gestão aplicadas de forma inconsistente, com desafios na rotatividade.",
          prescription: "Estruture um plano de gestão de pessoas com feedbacks regulares e revisão dos processos de retenção."
        },
        3: {
          diagnosis: "Boa performance da equipe, mas com oportunidades para melhorar a comunicação e o desenvolvimento.",
          prescription: "Implemente planos de desenvolvimento individual e ajustes no processo de integração."
        },
        4: {
          diagnosis: "Equipe bem alinhada e engajada, com boas práticas implementadas.",
          prescription: "Invista no fortalecimento da cultura organizacional e no desenvolvimento de lideranças internas."
        },
        5: {
          diagnosis: "Gestão de pessoas altamente estruturada, contribuindo para alta performance.",
          prescription: "Foque em inovação, programas de capacitação e planos de sucessão para manter o engajamento."
        }
      },
      "Estratégia": {
        1: {
          diagnosis: "Planejamento estratégico pouco estruturado, dificultando a definição de metas.",
          prescription: "Elabore um planejamento estratégico inicial com metas objetivas e análise de mercado."
        },
        2: {
          diagnosis: "Estratégias definidas, mas sem revisões consistentes.",
          prescription: "Reveja e ajuste o planejamento regularmente, consolidando missão, visão e valores."
        },
        3: {
          diagnosis: "Planejamento estruturado, porém com poucos ajustes diante de mudanças.",
          prescription: "Refine a estratégia de diferenciação e alinhe campanhas de marketing e vendas."
        },
        4: {
          diagnosis: "Estratégias bem estruturadas, com potencial para maior previsibilidade.",
          prescription: "Explore novas oportunidades de expansão e fortaleça a fidelização de clientes."
        },
        5: {
          diagnosis: "Gestão estratégica consolidada e com identidade de marca forte.",
          prescription: "Avalie novos mercados e diversifique as estratégias para manter a competitividade."
        }
      },
      "Finanças": {
        1: {
          diagnosis: "Controle financeiro comprometido, dificultando a cobertura de custos.",
          prescription: "Implemente um sistema básico de controle financeiro e monitore receitas e despesas."
        },
        2: {
          diagnosis: "Práticas financeiras aplicadas de forma esporádica.",
          prescription: "Utilize ferramentas estruturadas e integre o controle do CMV com outros indicadores."
        },
        3: {
          diagnosis: "Gestão financeira com boas práticas, mas com oportunidades para otimização.",
          prescription: "Refine a integração dos dados financeiros e ajuste a precificação conforme o mercado."
        },
        4: {
          diagnosis: "Gestão financeira bem estruturada com controle detalhado de custos.",
          prescription: "Invista em automação financeira e análise preditiva para otimizar investimentos."
        },
        5: {
          diagnosis: "Gestão financeira consolidada, com decisões baseadas em dados.",
          prescription: "Explore novas estratégias de otimização de custos e diversifique as fontes de receita."
        }
      },
      "Marketing": {
        1: {
          diagnosis: "Ações de marketing pouco estruturadas, com baixo alcance.",
          prescription: "Inicie ações simples nas redes sociais e teste campanhas para engajar o público."
        },
        2: {
          diagnosis: "Campanhas pontuais sem estratégia clara.",
          prescription: "Crie um plano de marketing estruturado e defina métricas para avaliação dos resultados."
        },
        3: {
          diagnosis: "Marketing com impacto, porém com inconsistências na frequência.",
          prescription: "Implemente processos de análise dos resultados e ajuste as campanhas periodicamente."
        },
        4: {
          diagnosis: "Campanhas bem planejadas e com resultados positivos.",
          prescription: "Explore novas estratégias e otimize os investimentos em tráfego pago e marketing digital."
        },
        5: {
          diagnosis: "Estratégia de marketing consolidada e de alto impacto.",
          prescription: "Inove nas tendências do marketing digital e fortaleça a comunidade online da marca."
        }
      },
      "Vendas": {
        1: {
          diagnosis: "Volume de vendas abaixo do esperado, sem metas claras.",
          prescription: "Defina metas simples e acompanhe os resultados para ajustar as ações comerciais."
        },
        2: {
          diagnosis: "Vendas com oscilações e acompanhamento informal.",
          prescription: "Estruture o acompanhamento das metas e implemente estratégias de fidelização."
        },
        3: {
          diagnosis: "Vendas estáveis, mas com potencial de crescimento limitado.",
          prescription: "Refine as estratégias de vendas e fortaleça o relacionamento com os clientes."
        },
        4: {
          diagnosis: "Estratégias de vendas bem definidas e com bom desempenho.",
          prescription: "Expanda os canais de venda e invista no desenvolvimento da equipe comercial."
        },
        5: {
          diagnosis: "Gestão de vendas estruturada e com resultados sólidos.",
          prescription: "Inove nas estratégias comerciais e personalize a experiência dos clientes."
        }
      },
      "Processos": {
        1: {
          diagnosis: "Ausência de procedimentos operacionais estruturados.",
          prescription: "Estabeleça padrões operacionais e otimize o controle de estoque e o fluxo de trabalho."
        },
        2: {
          diagnosis: "Práticas de processos aplicadas de forma inconsistente.",
          prescription: "Refine os procedimentos e melhore a padronização das operações."
        },
        3: {
          diagnosis: "Processos estruturados, mas com pequenas falhas na eficiência.",
          prescription: "Implemente treinamentos e ajuste os controles operacionais para maior previsibilidade."
        },
        4: {
          diagnosis: "Gestão de processos bem organizada, com controle digital do estoque.",
          prescription: "Explore automação e melhoria contínua para otimizar a produtividade."
        },
        5: {
          diagnosis: "Processos altamente eficientes, com operação coordenada e controle rigoroso do estoque.",
          prescription: "Busque inovações tecnológicas e capacite a equipe para manter o alto padrão operacional."
        }
      }
    };
  </script>
</body>
</html>
